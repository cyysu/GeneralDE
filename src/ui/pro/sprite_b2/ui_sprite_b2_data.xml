<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<metalib tagsetversion="1" name="" version="1">

    <struct name="ui_sprite_b2_pair" version="1">
        <entry name="x" type="float" id="1"/>
        <entry name="y" type="float" id="2"/>
    </struct>

    <macrosgroup name="ui_sprite_b2_obj_type">
        <macro name="UI_SPRITE_B2_OBJ_TYPE_STATIC" value="0"/>
        <macro name="UI_SPRITE_B2_OBJ_TYPE_KINEMATIC" value="1"/>
        <macro name="UI_SPRITE_B2_OBJ_TYPE_DYNAMIC" value="2"/>
    </macrosgroup>

    <macrosgroup name="ui_sprite_b2_obj_runing_mode">
        <macro name="UI_SPRITE_B2_OBJ_RUNING_MODE_PASSIVE" value="0"/>
        <macro name="UI_SPRITE_B2_OBJ_RUNING_MODE_ACTIVE" value="1"/>
    </macrosgroup>

    <!-- 对象控制数据 -->
    <struct name="ui_sprite_b2_obj_control_float" version="1">
        <entry name="setted" type="uint8" id="1"/>
        <entry name="value" type="float" id="2"/>
    </struct>

    <struct name="ui_sprite_b2_obj_control" version="1">
        <entry name="linear_velocity_angle" type="ui_sprite_b2_obj_control_float" id="1"/>
        <entry name="linear_velocity_value" type="ui_sprite_b2_obj_control_float" id="2"/>
    </struct>

    <struct name="ui_sprite_b2_obj_data" version="1">
        <entry name="setter" type="ui_sprite_b2_obj_control" value="1"/>
    </struct>

    <!-- 碰撞通知数据 -->
    <macrosgroup name="ui_sprite_b2_collision_state">
        <macro name="UI_SPRITE_B2_COLLISION_STATE_BEGIN" value="1"/>
        <macro name="UI_SPRITE_B2_COLLISION_STATE_END" value="2"/>
    </macrosgroup>

    <struct name="ui_sprite_b2_collision_data" version="1">
        <entry name="collision_state" type="uint8" id="1" bindmacrogroup="ui_sprite_b2_collision_state"/>
        <entry name="collision_entity_id" type="uint32" id="2"/>
        <entry name="collision_part_name" type="string" size="64" id="3"/>
        <entry name="collision_pos" type="ui_sprite_b2_pair" id="4"/>
    </struct>

    <!-- 多边形定义 -->
    <macrosgroup name="ui_sprite_b2_shape_type">
        <macro name="UI_SPRITE_B2_SHAPE_ENTITY_RECT" value="1"/>
        <macro name="UI_SPRITE_B2_SHAPE_BOX" value="2"/>
        <macro name="UI_SPRITE_B2_SHAPE_CIRCLE" value="3"/>
        <macro name="UI_SPRITE_B2_SHAPE_SECTOR" value="4"/>
        <macro name="UI_SPRITE_B2_SHAPE_CHAIN" value="5"/>
    </macrosgroup>

    <struct name="ui_sprite_b2_shape_data_entity_rect" version="1">
        <entry name="adj" type="ui_sprite_b2_pair" id="1"/>
    </struct>

    <struct name="ui_sprite_b2_shape_data_box" version="1">
        <entry name="lt" type="ui_sprite_b2_pair" id="1"/>
        <entry name="rb" type="ui_sprite_b2_pair" id="2"/>
    </struct>

    <struct name="ui_sprite_b2_shape_data_circle" version="1">
        <entry name="center" type="ui_sprite_b2_pair" id="1"/>
        <entry name="center_base" type="uint8" id="2"/>
        <entry name="radius" type="float" id="3"/>
    </struct>

    <struct name="ui_sprite_b2_shape_data_sector" version="1">
        <entry name="center" type="ui_sprite_b2_pair" id="1"/>
        <entry name="center_base" type="uint8" id="2"/>
        <entry name="radius" type="float" id="3"/>
        <entry name="angle_start" type="float" id="4"/>
        <entry name="angle_range" type="float" id="5"/>
        <entry name="angle_step" type="float" id="6"/>
    </struct>

    <struct name="ui_sprite_b2_shape_data_chain" version="1">
        <entry name="point_count" type="uint32" id="1"/>
        <entry name="points" type="ui_sprite_b2_pair" count="0" refer="point_count" id="2"/>
    </struct>

    <union name="ui_sprite_b2_shape_data" version="1">
        <entry name="entity_rect" type="ui_sprite_b2_shape_data_entity_rect" id="UI_SPRITE_B2_SHAPE_ENTITY_RECT"/>
        <entry name="box" type="ui_sprite_b2_shape_data_box" id="UI_SPRITE_B2_SHAPE_BOX"/>
        <entry name="circle" type="ui_sprite_b2_shape_data_circle" id="UI_SPRITE_B2_SHAPE_CIRCLE"/>
        <entry name="sector" type="ui_sprite_b2_shape_data_sector" id="UI_SPRITE_B2_SHAPE_SECTOR"/>
        <entry name="chain" type="ui_sprite_b2_shape_data_chain" id="UI_SPRITE_B2_SHAPE_CHAIN"/>
    </union>

    <struct name="ui_sprite_b2_shape" version="1">
        <entry name="type" type="uint8" id="1" bindmacrogroup="ui_sprite_b2_shape_type"/>
        <entry name="data" type="ui_sprite_b2_shape_data" id="2" select="type"/>
    </struct>

    <!-- B2RunTo 状态数据 -->
    <struct name="ui_sprite_b2_run_target_follow_entity" version="1">
        <entry name="entity_id" type="uint32" id="1"/>
        <entry name="entity_name" type="string" size="64" id="2"/>
    </struct>

    <struct name="ui_sprite_b2_run_target_to_pos" version="1">
        <entry name="target_pos" type="ui_sprite_b2_pair" id="1"/>
    </struct>

    <macrosgroup name="ui_sprite_b2_run_target_policy">
        <macro name="UI_SPRITE_B2_RUN_TARGET_POLICY_FOLLOW_ENTITY" value="1"/>
        <macro name="UI_SPRITE_B2_RUN_TARGET_POLICY_TO_POS" value="2"/>
    </macrosgroup>

    <union name="ui_sprite_b2_run_target" version="1">
        <entry name="follow_entity" type="ui_sprite_b2_run_target_follow_entity" id="UI_SPRITE_B2_RUN_TARGET_POLICY_FOLLOW_ENTITY"/>
        <entry name="to_pos" type="ui_sprite_b2_run_target_to_pos" id="UI_SPRITE_B2_RUN_TARGET_POLICY_TO_POS"/>
    </union>

    <struct name="ui_sprite_b2_run_data" version="1">
        <entry name="target_policy" type="uint8" id="1"/>
        <entry name="target" type="ui_sprite_b2_run_target" select="target_policy" id="2"/>
        <entry name="max_speed" type="float" id="3"/>
        <entry name="max_distance" type="float" id="4"/>
        <entry name="near_distance" type="float" id="5"/>
        <entry name="inc_delta_speed" type="float" id="6"/>
        <entry name="dec_delta_speed" type="float" id="7"/>
        <entry name="trace_pos_count" type="uint8" id="8"/>
        <entry name="trace_poses" type="ui_sprite_b2_pair" count="5" refer="trace_pos_count" id="9"/>
        <entry name="moved_distance" type="float" id="10"/>
        <entry name="not_move_duration" type="float" id="11"/>
        <entry name="pre_pos" type="ui_sprite_b2_pair" id="12"/>
    </struct>

</metalib>
