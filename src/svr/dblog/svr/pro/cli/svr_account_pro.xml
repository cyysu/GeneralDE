<?xml version="1.0" encoding="GBK" standalone="yes"?>
<metalib tagsetversion="1" name="" version="1">
    <macro name="SVR_ACCOUNT_MAX_LEN" value="128"/>

    <struct name="svr_account_logic_id" version="1">
        <entry name="account_type" type="uint8" id="2"/>
        <entry name="account" type="string" size="SVR_ACCOUNT_MAX_LEN" id="3"/>
    </struct>

    <struct name="svr_account_binding" version="1">
        <entry name="gid" type="uint64" id="1"/>
        <entry name="account_type" type="uint8" id="2"/>
        <entry name="account" type="string" size="SVR_ACCOUNT_MAX_LEN" id="3"/>
    </struct>

    <struct name="svr_account_binding_list" version="1" id="1">
        <entry name="count" type="uint16" id="1"/>
        <entry name="data" type="svr_account_binding" count="0" refer="count" id="2"/>
    </struct>

    <!-- 协议定义 -->

    <!-- 将一个帐号和用户ID绑定 -->
    <struct name="svr_account_req_bind" version="1">
        <entry name="gid" type="uint64" id="1"/>
        <entry name="account_type" type="uint16" id="2"/>
        <entry name="account" type="string" size="SVR_ACCOUNT_MAX_LEN" id="3"/>
    </struct>

    <struct name="svr_account_req_unbind" version="1">
        <entry name="gid" type="uint64" id="1"/>
        <entry name="account_type" type="uint16" id="2"/>
        <entry name="account" type="string" size="SVR_ACCOUNT_MAX_LEN" id="3"/>
    </struct>

    <!-- 根据逻辑帐号获取列表用户信息列表 -->
    <struct name="svr_account_req_find_by_logic_id" version="1">
        <entry name="count" type="uint16" id="2"/>
        <entry name="ids" type="svr_account_logic_id" count="0" refer="count" id="3"/>
    </struct>

    <struct name="svr_account_req_find_by_gid" version="1">
        <entry name="gid" type="uint64" id="1"/>
    </struct>

    <!-- 错误响应 -->
    <struct name="svr_account_res_error" version="1">
        <entry name="error" type="int16" id="1"/>
    </struct>

    <!-- 整体协议定义 -->
    <macrosgroup name="SVR_ACCOUNT_CMD_ID">
        <macro name="SVR_ACCOUNT_CMD_REQ_BIND" value="1"/>
        <macro name="SVR_ACCOUNT_CMD_RES_BIND" value="2"/>

        <macro name="SVR_ACCOUNT_CMD_REQ_UNBIND" value="7"/>
        <macro name="SVR_ACCOUNT_CMD_RES_UNBIND" value="8"/>

        <macro name="SVR_ACCOUNT_CMD_REQ_FIND_BY_LOGIC_ID" value="3"/>
        <macro name="SVR_ACCOUNT_CMD_RES_FIND_BY_LOGIC_ID" value="4"/>

        <macro name="SVR_ACCOUNT_CMD_REQ_FIND_BY_GID" value="5"/>
        <macro name="SVR_ACCOUNT_CMD_RES_FIND_BY_GID" value="6"/>

        <macro name="SVR_ACCOUNT_CMD_RES_ERROR" value="9"/>
    </macrosgroup>

    <union name="svr_account_pkg_data" version="1" desc="">
        <entry name="svr_account_req_bind" type="svr_account_req_bind" id="SVR_ACCOUNT_CMD_REQ_BIND"/>
        <entry name="svr_account_req_unbind" type="svr_account_req_unbind" id="SVR_ACCOUNT_CMD_REQ_UNBIND"/>

        <entry name="svr_account_req_find_by_logic_id" type="svr_account_req_find_by_logic_id" id="SVR_ACCOUNT_CMD_REQ_FIND_BY_LOGIC_ID"/>

        <entry name="svr_account_req_find_by_gid" type="svr_account_req_find_by_gid" id="SVR_ACCOUNT_CMD_REQ_FIND_BY_GID"/>

        <entry name="svr_account_res_error" type="svr_account_res_error" id="SVR_ACCOUNT_CMD_RES_ERROR"/>
    </union>

</metalib>
