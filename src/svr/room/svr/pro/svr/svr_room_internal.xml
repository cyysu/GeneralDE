<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<metalib tagsetversion="1" name="" version="1">
    <include name="svr_room_data" file="svr_room_data.xml"/>

    <macrosgroup name="svr_room_user_state">
        <macro name="SVR_ROOM_USER_ACTIVE" value="1"/>
        <macro name="SVR_ROOM_USER_LEAVE" value="2"/>
    </macrosgroup>

    <struct name="svr_room_room_record" version="1" primarykey="room_id">
        <entry name="room_id" type="uint64" id="1"/>
        <entry name="room_type" type="uint16" id="2"/>
        <entry name="creation_time" type="uint32" id="3"/>
    </struct>

    <struct name="svr_room_user_record" version="1" primarykey="room_id,uid">
        <entry name="room_id" type="uint64" id="1"/>
        <entry name="user_id" type="uint64" id="2"/>
        <entry name="user_at_svr_type" type="uint16" id="3"/>
        <entry name="user_at_svr_id" type="uint16" id="4"/>
        <entry name="user_state" type="uint8" bindmacrosgroup="svr_room_user_state" id="5"/>
        <entry name="user_join_time" type="uint32" id="6"/>
        <entry name="user_last_op_time" type="uint32" id="7"/>
        <entry name="user_data_len" type="uint32" id="8"/>
        <entry name="user_data" type="uint8" count="SVR_ROOM_USER_DATA_MAX" refer="user_data_len" id="9"/>
    </struct>

</metalib>
